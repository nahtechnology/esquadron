<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<ui:composition template="/template/escolar/template-alumno.xhtml">
    <ui:define name="menu">
        <div class="left-content-box  content-box-dark">
            <h:graphicImage library="img" name="avatar/astronauta-nino.svg" alt="" class="uk-border-circle profile-img" rendered="#{true}"/>
            <h:graphicImage library="img" name="avatar/astronauta-nina.svg" alt="" class="uk-border-circle profile-img" rendered="#{false}"/>
            <h6 class="uk-text-center uk-margin-remove-vertical text-light nombre-usuario">#{alumnoControlador.alumnoModelo.apodo}</h6>

            <div class="uk-position-relative uk-text-center uk-display-block">
                <a href="#" class="uk-text-small uk-text-muted uk-display-block uk-text-center uk-text-capitalize" data-uk-icon="icon: triangle-down; ratio: 0.7">#{etiqueta['menu']}</a>
                <!-- user dropdown -->
                <div class="uk-dropdown user-drop" data-uk-dropdown="mode: click; pos: bottom-center; animation: uk-animation-slide-bottom-small; duration: 150">
                    <ul>
                        <li><a href="#" class="uk-text-capitalize">#{alumno['profile']}</a></li>
                        <li><a href="#" class="uk-text-capitalize">#{etiqueta['close.sesion']}</a></li>
                    </ul>
                </div>
                <!-- /user dropdown -->
            </div>
        </div>

        <div class="left-nav-wrap  uk-visible@xl ">
            <ul class="uk-thumbnav uk-thumbnav-vertical uk-position-center uk-margin-large-top">
                <li uk-tooltip="title: Dashboard; pos: right"><h:link outcome="dashboard"><h:graphicImage library="img" name="alumno/planetas/tierra.svg" width="80" alt=""/></h:link></li>
                <li uk-tooltip="title: Activity; pos: right" class="uk-active" ><h:graphicImage library="img" name="alumno/planetas/planeta1.svg" width="80" alt="" /></li>
                <li uk-tooltip="title: Library; pos: right"><h:link outcome="biblioteca-alumno"><h:graphicImage library="img" name="alumno/planetas/planeta5.svg"  width="80" alt="" /></h:link></li>
            </ul>
        </div>
        <div class="left-nav-wrap uk-position-relative  uk-hidden@xl ">
            <ul class="uk-thumbnav uk-thumbnav-vertical uk-position-top-center uk-margin-small-top">
                <li uk-tooltip="title: Dashboard; pos: right" ><h:link outcome="dashboard" ><h:graphicImage library="img" name="alumno/planetas/tierra.svg"  width="50" alt=""/></h:link></li>
                <li uk-tooltip="title: Activity; pos: right" class="uk-active"><h:graphicImage library="img" name="alumno/planetas/planeta1.svg"  width="50" alt=""/></li>
                <li uk-tooltip="title: Library; pos: right"><h:link outcome="biblioteca-alumno"><h:graphicImage library="img" name="alumno/planetas/planeta5.svg"  width="50" alt=""/></h:link></li>
            </ul>
        </div>
    </ui:define>
    <ui:define name="contenido">
        <h:outputStylesheet library="css" name="navegacion.css"/>
        <h:outputStylesheet library="css" name="biblioteca.css"/>
        <script src="https://www.youtube.com/iframe_api"></script>

        <div class="uk-container  margen-superior  padding-inferior">
            <div data-uk-filter="target: .js-filter">
                <h:panelGroup layout="block" styleClass="uk-grid js-filter uk-margin-medium-top uk-margin-large-bottom" pt:uk-grid="">
                    <ui:repeat value="#{alumnoControlador.tareaActvidadModeloLista}" var="tareaActvidadModelo">
                        <h:panelGroup layout="block" styleClass="uk-width-1-3@m " pt:data-tags="a beautiful landscape - nature outdoor">
                            <div class="uk-card uk-card-default uk-card-small uk-card-hover card-border ">
                                <div class="uk-card-header border-card">
                                    <h:panelGroup layout="block" styleClass="uk-grid uk-grid-small uk-text-small" pt:uk-grid="">
                                        <div class="uk-width-expand">
                                            <h:graphicImage styleClass="uk-border-circle" library="img" name="mounstro/3ojos.svg" width="30" height="30" />
                                            <span class="cat-txt">
                                                <h:outputText value="#{tareaActvidadModelo.asignacion}">
                                                    <f:convertDateTime locale="en_UK" timeStyle="short" type="both" dateStyle="full"/>
                                                </h:outputText>
                                            </span>
                                        </div>
                                        <div class="uk-width-auto uk-text-right uk-text-muted">
                                            <h:outputText styleClass="uk-margin-small-right" pt:uk-icon="icon:clock"/>#{tareaActvidadModelo.reproducciones}
                                        </div>
                                    </h:panelGroup>
                                </div>
                                <div class="uk-card-media-top">
                                    <h:panelGroup layout="block" pt:uk-spinner=""/>
                                    <h:panelGroup layout="block"  styleClass="uk-inline">
                                        <div id="#{tareaActvidadModelo.idActividad}" class="videoPlayer">Hola</div>
                                    </h:panelGroup>
                                </div>
                                <div class="uk-card-body">
                                    <h6 class="uk-margin-small-bottom uk-margin-remove-adjacent uk-text-bold uk-text-small">dato3</h6>
                                    <p class="uk-text-small uk-text-muted ">#{tareaActvidadModelo.id}</p>
                                </div>
                                <div class="uk-card-footer">
                                    <h:form>
                                        <h:panelGroup layout="block" styleClass="uk-grid uk-grid-small uk-grid-divider uk-flex uk-flex-middle" pt:data-uk-grid="">
                                            <div class="uk-width-expand ">
                                                <h:commandLink action="#{alumnoControlador.seleccion(tareaActvidadModelo)}" value="realizar tarea"/>
                                                <h:panelGroup layout="block" styleClass="uk-grid uk-grid-small uk-child-width-1-5" pt:uk-grid="">
                                                    <div>
                                                        <h:graphicImage pt:data-uk-tooltip="title: Listening" styleClass="uk-icon-image uk-svg" library="img" name="icono/listen.svg"/>
                                                    </div>
                                                    <div>
                                                        <h:graphicImage pt:data-uk-tooltip="title: Trasncript" styleClass="uk-icon-image uk-svg" library="img" name="icono/transcript1.svg" />
                                                    </div>
                                                    <div>
                                                        <h:graphicImage  pt:data-uk-tooltip="title: Reading" styleClass="uk-icon-image uk-svg " library="img" name="icono/reading.svg" />
                                                    </div>
                                                    <div>
                                                        <h:graphicImage pt:data-uk-tooltip="title: Grammar" styleClass="uk-icon-image uk-svg " library="img" name="icono/gramatica.svg" />
                                                    </div>
                                                    <div>
                                                        <h:graphicImage pt:data-uk-tooltip="title: Quiz" styleClass="uk-icon-image uk-svg " library="img" name="icono/quizcalifica.svg" />
                                                    </div>
                                                </h:panelGroup>
                                            </div>
                                        </h:panelGroup>
                                    </h:form>
                                </div>
                            </div>
                        </h:panelGroup>
                    </ui:repeat>
                </h:panelGroup>
            </div>
        </div>
        <script type="application/javascript">
            var videos = document.querySelectorAll('.videoPlayer');
            var players = new Array();
            var player;
            function onYouTubeIframeAPIReady() {
                videos.forEach(function (value) {
                    player = new YT.Player(value, {
                        height: '100%',
                        width: '100%',
                        videoId: value.getAttribute('id'),
                        events: {
                            'onReady': onPlayerReady,
                            'onStateChange': onPlayerStateChange
                        }
                    });
                    players.push(player);
                });
            }

            // 4. The API will call this function when the video player is ready.
            function onPlayerReady(event) {
                //event.target.playVideo();
                console.log(event, 'Reproductor listo.')
            }

            // 5. The API calls this function when the player's state changes.
            //    The function indicates that when playing a video (state=1),
            //    the player should play for six seconds and then stop.
            var done = false;
            function onPlayerStateChange(event) {
                if (event.data == YT.PlayerState.PLAYING &amp;&amp; !done) {

                    console.log('El video de youtube tiene un cambio');
                    done = true;
                }else {
                    done = false;
                }
            }


            function activaPlanetas(evt) {
                var planetas = document.querySelectorAll('.planetas');
                planetas.forEach(function (value) {
                    value.classList.remove('planetas');
                });
            }
        </script>
    </ui:define>
</ui:composition>
</html>
