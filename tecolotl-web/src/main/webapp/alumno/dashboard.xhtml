<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition template="/template/escolar/template-alumno.xhtml">
    <ui:define name="hamburguesa">

        <div class="color-nav uk-hidden@m">
            <nav class="uk-navbar-container uk-navbar-transparent" uk-navbar="">
                <div class="">
                    <a class="logo uk-logo" href="#">
                        <h:graphicImage  library="img" name="esquadron.svg"  alt="logo" title="logo" width="30px" height="30px" />
                        <span class="lescuadron letra-logo uk-visible@m">squadron</span>
                    </a>
                </div>
                <div class="uk-navbar-right ">
                    <a class="uk-navbar-toggle" uk-navbar-toggle-icon="" href="" uk-toggle="target: #menu" type="button"/>
                </div>
                <div id="menu" uk-offcanvas="overlay: true">
                    <div class="uk-offcanvas-bar">
                        <button class="uk-offcanvas-close" type="button" uk-close=""/>
                        <ul class="uk-thumbnav uk-thumbnav-vertical uk-position-top-center uk-margin-large-top">
                            <li uk-tooltip="title: #{alumno['for.all.views.dashboard']}; pos: right" class="uk-active uk-text-capitalize"><h:link outcome="dashboard" ><h:graphicImage library="img" name="alumno/planetas/tierra.svg" width="40" alt=""/></h:link></li>
                            <li uk-tooltip="title: #{alumno['for.all.views.activity']}; pos: right"><h:link outcome="activities"><h:graphicImage library="img" name="alumno/planetas/planeta1.svg" width="40" alt="" /></h:link></li>
                            <li uk-tooltip="title: #{alumno['for.all.views.library']}; pos: right"><h:link outcome="free-library"><h:graphicImage library="img" name="alumno/planetas/planeta5.svg" width="40" alt="" /></h:link></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="barra-nav"></div>
        </div>
    </ui:define>
    <ui:define name="menu">
        <div class="left-content-box  content-box-dark">
            <h:graphicImage library="img" name="avatar/astronauta-nino.svg" alt="" class="uk-border-circle profile-img" rendered="#{true}"/>
            <h:graphicImage library="img" name="avatar/astronauta-nina.svg" alt="" class="uk-border-circle profile-img" rendered="#{false}"/>
            <h6 class="uk-text-center uk-margin-remove-vertical text-light nombre-usuario">#{alumnoControlador.alumnoModelo.apodo}</h6>
            <div class="uk-position-relative uk-text-center uk-display-block">
                <a href="#" class="uk-text-small uk-text-muted uk-display-block uk-text-center uk-text-capitalize" data-uk-icon="icon: triangle-down; ratio: 0.7">#{etiqueta['menu']}</a>
                <div class="uk-dropdown user-drop" data-uk-dropdown="mode: click; pos: bottom-center; animation: uk-animation-slide-bottom-small; duration: 150">
                    <ul >
                        <li><a href="#" class="uk-text-capitalize">#{alumno['for.all.views.profile']}</a></li>
                        <li><a href="#" class="uk-text-capitalize">#{etiqueta['close.sesion']}</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="left-nav-wrap  uk-visible@xl ">
            <ul class="uk-thumbnav uk-thumbnav-vertical uk-position-center uk-margin-large-top">
                <li uk-tooltip="title: #{alumno['for.all.views.dashboard']}; pos: right" class="uk-active"><h:link outcome="dashboard" ><h:graphicImage library="img" name="alumno/planetas/tierra.svg" width="80" alt=""/></h:link></li>
                <li uk-tooltip="title: #{alumno['for.all.views.activity']}; pos: right">
                    <h:link outcome="activities" rendered="#{not empty alumnoControlador.tareaActvidadModeloLista}"><h:graphicImage library="img" name="alumno/planetas/planeta1.svg" width="80" alt="" /></h:link>
                    <h:graphicImage rendered="#{empty alumnoControlador.tareaActvidadModeloLista}" library="img" name="alumno/planetas/planeta1.svg" width="80" alt="" />
                </li>
                <li uk-tooltip="title: #{alumno['for.all.views.library']}; pos: right"><h:link outcome="free-library"><h:graphicImage library="img" name="alumno/planetas/planeta5.svg" width="80" alt="" /></h:link></li>
            </ul>
        </div>
        <div class="left-nav-wrap uk-position-relative uk-hidden@xl ">
            <ul class="uk-thumbnav uk-thumbnav-vertical uk-position-top-center uk-margin-small-top">
                <li uk-tooltip="title: #{alumno['for.all.views.dashboard']}; pos: right" class="uk-active"><h:link outcome="dashboard" ><h:graphicImage library="img" name="alumno/planetas/tierra.svg" width="60" alt=""/></h:link></li>
                <li uk-tooltip="title: #{alumno['for.all.views.activity']}; pos: right" >
                    <h:link outcome="activities" rendered="#{not empty alumnoControlador.tareaActvidadModeloLista}"><h:graphicImage library="img" name="alumno/planetas/planeta1.svg" width="60" alt=""/></h:link>
                    <h:graphicImage rendered="#{empty alumnoControlador.tareaActvidadModeloLista}" library="img" name="alumno/planetas/planeta1.svg" width="60"/>
                </li>
                <li uk-tooltip="title: #{alumno['for.all.views.library']}; pos: right"><h:link outcome="free-library"><h:graphicImage library="img" name="alumno/planetas/planeta5.svg" width="60" alt=""/></h:link></li>
            </ul>
        </div>

    </ui:define>
    <ui:define name="contenido">
        <h:outputStylesheet library="css" name="letra.css"/>
        <h:outputStylesheet library="css" name="alumno/dashboard.css"/>
        <div class="">
            <div class="uk-container padding-contenedor">
                <h1 class="lescuadron letra-titulo primera-mayuscula">#{alumno['dashboard.title']}</h1>
                 <h:panelGroup layout="block" styleClass="uk-grid" pt:uk-grid="">
                     <div class="uk-width-1-3@m">
                         <div class="uk-card uk-card-default color-card-dashboard-alumno border-grosor">
                             <div class="uk-card-header">
                                 <h:panelGroup styleClass="uk-grid-small uk-flex-middle" pt:uk-grid="">
                                     <div class="uk-width-auto">
                                         <h:graphicImage styleClass="uk-border-circle" width="50" height="50" library="img" name="mounstro/morado.svg"/>
                                     </div>
                                     <div class="uk-width-expand">
                                         <h3 class="uk-card-title uk-margin-remove-bottom uk-text-small uk-text-uppercase uk-text-bold"> #{alumnoControlador.alumnoModelo.nombre} #{alumnoControlador.alumnoModelo.apellidoPaterno} #{alumnoControlador.alumnoModelo.apellidoMaterno}</h3>
                                         <p class="uk-text-meta uk-margin-remove-top uk-text-small"><span> #{alumnoControlador.alumnoModelo.apodo}</span></p>
                                     </div>
                                     <div class="uk-width-1-1@s">
                                         <p class="uk-text-meta uk-margin-remove-bottom uk-margin-remove-top uk-text-small "><span class="uk-text-bold uk-text-capitalize">#{alumno['dashboard.email']}:</span> #{alumnoControlador.alumnoModelo.correoPadreFamilia}</p>
                                         <p class="uk-text-meta uk-margin-remove-bottom uk-margin-remove-top  uk-text-small "><span class="uk-text-bold uk-text-capitalize">#{alumno['dashboard.grade']}:</span> #{detalleAlumnoControlador.detalleAlumnoModelo.grado} <span class="uk-text-bold">&nbsp;Group:</span> #{detalleAlumnoControlador.detalleAlumnoModelo.grupo}</p>
                                         <p class="uk-text-meta uk-margin-remove-bottom uk-margin-remove-top uk-text-small "><span class="uk-text-bold uk-text-capitalize">#{alumno['dashboard.nivel']}:</span> #{alumnoControlador.alumnoModelo.nivelLenguajeModelo.valor}</p><p class="uk-text-meta uk-margin-remove-bottom uk-margin-remove-top uk-text-small "><span class="uk-text-bold">Academic Year: </span><h:outputText value="#{detalleAlumnoControlador.detalleAlumnoModelo.inicio}"><f:convertDateTime type="date" pattern="yyyy/MM/dd"/></h:outputText> </p>
                                     </div>
                                 </h:panelGroup>
                             </div>
                             <div class="uk-card-body padding-card-body">
                                 <ui:remove><h3 class="uk-text-uppercase uk-text-bold">#{alumno['dashboard.homework']}</h3></ui:remove>
                                 <div class="imagen-actividad " id="video-actividad">
                                     <div class="uk-text-center">#{alumno['dashboard.total.activities']}</div>

                                 </div>
                             </div>
                             <div class="uk-card-footer">
                                 <h3 class="uk-text-uppercase uk-text-bold">#{alumno['dashboard.teacher']}</h3>
                                 <p>#{detalleAlumnoControlador.detalleAlumnoModelo.nombre} #{detalleAlumnoControlador.detalleAlumnoModelo.apellidoPaterno} #{detalleAlumnoControlador.detalleAlumnoModelo.apellidoMaterno}</p>
                             </div>
                         </div>
                     </div>
                     <div class="uk-width-2-3@m">
                         <div class="uk-section uk-border-rounded border-section uk-padding-remove color-card-dashboard-alumno" style="position:relative;padding-top:52.25%;">
                             <div style="position:relative;padding-top:52.25%;" class="uk-margin-auto" >
                                 <iframe  src="https://www.youtube.com/embed/0_1NU60qHWs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe>
                             </div>
                         </div>
                     </div>
                 </h:panelGroup>
                <h1 class="lescuadron letra-titulo uk-text-center ">#{empty alumnoControlador.tareaActvidadModeloLista ? alumno['dashboard.not.homework'] : alumno['dashboard.homework.done']}</h1>
                <div>
                    <h:form styleClass="formulario-tareas-progreso" >
                        <h:selectOneRadio value="#{tareasProgresoControlador.idTarea}">
                            <f:selectItems value="#{alumnoControlador.tareaActvidadModeloLista}" var="tareaActividad"  itemLabel="#{tareaActividad.idActividad}" itemValue="#{tareaActividad.id}"/>
                            <f:ajax event="change" listener="#{tareasProgresoControlador.buscaTareasRealizadas}" execute="@form" render="tareas tareas2 video-actividad"/>
                        </h:selectOneRadio>
                    </h:form>
                    <ul>
                        <li class="">

                            <!--<h:graphicImage styleClass="vacio" library="img" name="/alumno/pop-art/mensaje5.svg" pt:uk-svg=""/>-->
                            <h:panelGroup layout="block" styleClass="vacio" rendered="#{empty alumnoControlador.tareaActvidadModeloLista}">empty</h:panelGroup>

                            <h:panelGroup id="tareas" styleClass="fondo-comic5 uk-child-width-1-3@m uk-grid" pt:uk-grid="" rendered="#{not empty alumnoControlador.tareaActvidadModeloLista}">

                                <div class="imagen-flexible">
                                    <h:graphicImage styleClass="img-alumno-dashboard uk-display-block uk-animation-shake" library="img" name="mounstro/who.svg" alt="moustrou naranja" pt:uk-tooltip="title: #{tareasProgresoControlador.tareaResuetasModeloLista[0].tarea}; pos: right"/>
                                   <div class="contenedor-barra">
                                       <span>0%</span>
                                       <progress class="uk-progress color1" value="#{tareasProgresoControlador.tareaResuetasModeloLista[0].respuesta}" max="#{tareasProgresoControlador.tareaResuetasModeloLista[0].total}"/>
                                       <span>100%</span>
                                   </div>
                                </div>
                                <div class="imagen-flexible">
                                    <h:graphicImage styleClass="img-alumno-dashboard uk-animation-shake" library="img" name="mounstro/whom.svg" alt="moustrou naranja"  pt:uk-tooltip="title: #{tareasProgresoControlador.tareaResuetasModeloLista[1].tarea}; pos: right "  />
                                    <div class="contenedor-barra">
                                        <span>0%</span>
                                        <progress class="uk-progress color2" value="#{tareasProgresoControlador.tareaResuetasModeloLista[1].respuesta}" max="#{tareasProgresoControlador.tareaResuetasModeloLista[1].total}"/>
                                        <span>100%</span>
                                    </div>
                                </div>
                                <div class="imagen-flexible">
                                    <h:graphicImage styleClass="img-alumno-dashboard uk-animation-shake " library="img" name="mounstro/whose.svg" alt="moustrou naranja"  pt:uk-tooltip="title: #{tareasProgresoControlador.tareaResuetasModeloLista[2].tarea}; pos: right "  />
                                    <div class="contenedor-barra">
                                        <span>0%</span>
                                        <progress class="uk-progress color3" value="#{tareasProgresoControlador.tareaResuetasModeloLista[2].respuesta}" max="#{tareasProgresoControlador.tareaResuetasModeloLista[2].total}"/>
                                        <span>100%</span>
                                    </div>
                                </div>
                            </h:panelGroup>
                            <h:panelGroup id="tareas2" layout="block" styleClass="uk-grid uk-child-width-1-3@m uk-grid" pt:uk-grid="" rendered="#{not empty alumnoControlador.tareaActvidadModeloLista}">
                                <div class="fondo-comic" style="border: 6px solid white; padding: 20px 0;">
                                    <div class="imagen-flexible">
                                        <h:graphicImage styleClass="img-alumno-dashboard uk-animation-shake"  library="img" name="mounstro/3ojos.svg" alt="moustrou naranja"  pt:uk-tooltip="title: #{tareasProgresoControlador.tareaResuetasModeloLista[3].tarea}; pos: right "/>
                                        <div class="contenedor-barra">
                                            <span>0%</span>
                                            <progress class="uk-progress color4" value="#{tareasProgresoControlador.tareaResuetasModeloLista[3].respuesta}" max="#{tareasProgresoControlador.tareaResuetasModeloLista[3].total}"/>
                                            <span>100%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="fondo-comic4 " style="border: 6px solid white; padding: 20px 0;">
                                    <div class="imagen-flexible">
                                        <h:graphicImage styleClass="img-alumno-dashboard uk-animation-shake" library="img" name="mounstro/verde.svg" alt="moustrou naranja"  pt:uk-tooltip="title: #{tareasProgresoControlador.tareaResuetasModeloLista[4].tarea}; pos: right "/>
                                        <div class="contenedor-barra">
                                            <span>0%</span>
                                            <progress class="uk-progress color5" value="#{tareasProgresoControlador.tareaResuetasModeloLista[4].respuesta}" max="#{tareasProgresoControlador.tareaResuetasModeloLista[4].total}"/>
                                            <span>100%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="fondo-comic6 " style="border: 6px solid white; padding: 20px 0;">

                                    <div class="imagen-flexible">
                                        <h:graphicImage styleClass="img-alumno-dashboard uk-animation-shake" library="img" name="mounstro/naranja.svg" alt="moustrou naranja"  pt:uk-tooltip="title: #{tareasProgresoControlador.tareaResuetasModeloLista[5].tarea}; pos: right "/>
                                        <div class="contenedor-barra">
                                            <span>0%</span>
                                            <progress class="uk-progress color5" value="#{tareasProgresoControlador.tareaResuetasModeloLista[5].respuesta}" max="#{tareasProgresoControlador.tareaResuetasModeloLista[5].total}"/>
                                            <span>100%</span>
                                        </div>
                                    </div>
                                </div>
                            </h:panelGroup>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <script type="application/javascript">
            document.addEventListener("DOMContentLoaded", radio);
            function radio() {
                var contenedorVideo = document.querySelector('#video-actividad');
                var imagen = document.createElement('img');
                var videos = [];
                var linkVideo = "https://www.youtube.com/embed/";
                var linkImagen = "https://i.ytimg.com/vi/";
                var botones = document.querySelectorAll('.formulario-tareas-progreso  tbody > tr > td > input[type=radio]');
                var boton = document.querySelector('.formulario-tareas-progreso  tbody > tr > td:first-child > input[type=radio]');
                boton.click();
                var idVideos = document.querySelectorAll('.formulario-tareas-progreso  tbody > tr > td > label');
                idVideos.forEach(function (id) {
                    videos.push(id.innerHTML);
                });

                while (contenedorVideo.hasChildNodes()){
                    contenedorVideo.removeChild(contenedorVideo.firstChild);
                }
                var linkCompleto = linkImagen.concat(videos[0].trim());
                imagen.setAttribute('src',linkCompleto.concat('/mqdefault.jpg'));
                contenedorVideo.appendChild(imagen);
                console.log(videos);
                botones.forEach(function (evento ,index) {
                    evento.addEventListener('click',function (dato) {
                         var actividad = document.querySelector('#video-actividad iframe');
                         var imagen = document.createElement('img');
                         while (contenedorVideo.hasChildNodes()){
                             contenedorVideo.removeChild(contenedorVideo.firstChild);
                         }
                         // actividad.removeAttribute('src');
                         // actividad.setAttribute('src',linkVideo.concat(videos[index].trim()));
                         // console.log(linkVideo.concat(videos[index].trim()));
                        var linkCompleto = linkImagen.concat(videos[index].trim());
                         imagen.setAttribute('src',linkCompleto.concat('/mqdefault.jpg'));
                        contenedorVideo.appendChild(imagen);
                    });
                });

            }
        </script>
    </ui:define>
</ui:composition>
</html>
