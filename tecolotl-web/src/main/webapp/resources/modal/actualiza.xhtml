<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <cc:interface>
        <cc:attribute name="catalogoModelo" type="tecolotl.nucleo.modelo.CatalogoModelo" required="true"/>
        <cc:attribute name="nombreModal" type="java.lang.String" required="true"/>
        <cc:attribute name="actionListener"
                      method-signature="void accion(javax.faces.event.ActionEvent"
                      targets="modal-bloqueo-catalogo:formulario-modal-editar:boton-enviar"
                      required="true"/>
    </cc:interface>
    <cc:implementation>
        <h:panelGroup layout="block" id="modal-bloqueo-catalogo" pt:uk-modal="">
            <div class="uk-modal-dialog uk-margin-auto-vertical">
                <h:form id="formulario-modal-editar" styleClass="uk-form-stacked">
                    <div class="uk-modal-header uk-background-secondary">
                        <p class="uk-h4 uk-text-center uk-text-bold">
                            <h:outputText styleClass="letra-titulo uk-text-capitalize" value="editar catalogo" rendered="#{not empty cc.attrs.catalogoModelo.clave}"/>
                            <h:outputText styleClass="letra-titulo " value="nuevo catalogo" rendered="#{empty cc.attrs.catalogoModelo.clave}"/>
                        </p>
                    </div>
                    <div class="uk-modal-body">
                        <div class="uk-margin uk-text-capitalize">
                            <h:outputLabel for="input-catalogo-bloqueo" styleClass="uk-form-label " value="#{etiqueta['description']}"/>
                            <div class="uk-form-controls">
                                <h:inputText styleClass="uk-input uk-text-capitalize"
                                             id="input-catalogo-bloqueo"
                                             pt:placeholder="#{etiqueta['write.text']}"
                                             label="#{etiqueta['description']}"
                                             value="#{cc.attrs.catalogoModelo.valor}">
                                    <f:validateRequired/>
                                    <f:validateLength minimum="3" maximum="20"/>
                                </h:inputText>
                            </div>
                            <h:message for="input-catalogo-bloqueo" styleClass="uk-text-danger"/>
                        </div>
                    </div>
                    <div class="uk-modal-footer uk-text-right">
                        <h:commandButton styleClass="uk-button uk-button-default uk-modal-close uk-margin-small-right"
                                         value="#{boton['cancel']}">
                            <f:ajax render="@form"/>
                        </h:commandButton>
                        <h:commandButton value="#{boton['add']}"
                                         id="boton-enviar"
                                         styleClass="uk-button uk-button-secondary">
                            <f:ajax onevent="function cerrar(data) { cierraModal(data,#{cc.attrs.nombreModal} ) }"
                                    execute="@form"
                                    render="@form"/>
                        </h:commandButton>
                    </div>
                </h:form>
            </div>
        </h:panelGroup>
    </cc:implementation>
</html>
