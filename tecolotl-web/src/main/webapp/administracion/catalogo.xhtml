<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: antonio
  Date: 9/01/19
  Time: 04:52 PM
-->
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/template/template.xhtml">
    <ui:define name="contenido2">
        <div id="content" data-uk-height-viewport="expand: true">
            <div class="uk-section uk-section-medium">
                <div class="uk-container uk-container-expand">
                    <div class="" uk-grid="">
                        <div class="uk-width-1-2">
                            <div uk-grid="">
                                <div class="uk-width-auto"><span uk-icon="icon: ban; ratio: 2"></span></div>
                                <div class="uk-width-expand">
                                    <h3 class="uk-text-uppercase">#{mensaje['catalog.blockingreason']}</h3>
                                    <h:dataTable value="#{catalogoControlador.motivoBloqueos}"
                                                 var="motivo"
                                                 id="tabla-motivo-bloqueo"
                                                 styleClass="uk-table uk-table-hover uk-table-divider limite-tabla-motivo-bloqueo uk-table-middle"
                                                 headerClass="uk-background-primary uk-dark"
                                                 footerClass="uk-background-primary"
                                                 first="#{catalogoControlador.primera}"
                                                 rows="#{catalogoControlador.paginacion}">
                                        <h:column>
                                            <f:facet name="header"><h:outputText value="#{mensaje['catalog.description']}" styleClass="uk-text-capitalize"/></f:facet>
                                            <h:outputText value="#{motivo.descripcion}"/>
                                        </h:column>
                                        <h:column headerClass="uk-background-primary uk-dark uk-table-shrink uk-text-center">
                                            <f:facet name="header"><h:outputText value="#{mensaje['label.option']}" styleClass="uk-text-capitalize"/></f:facet>
                                            <div class=" uk-inline">
                                                <button class="uk-icon-button puntero" uk-icon="more-vertical" type="button"/>
                                                <div uk-dropdown="boundary:.limite-tabla-motivo-bloqueo; mode: click" >
                                                    <ul class="uk-nav uk-dropdown-nav">
                                                        <li>
                                                            <h:form id="formulario-aditar">
                                                                <h:commandLink styleClass="uk-link-muted">
                                                                    <span uk-icon="icon: file-edit" class="uk-margin-small-right uk-icon" ></span>
                                                                    <span class="uk-text-middle"><h:outputText value="#{mensaje['button.edit']}"/></span>
                                                                    <f:ajax listener="#{catalogoControlador.actualiza(motivo)}" render="formulario-motivo-bloqueo" onevent="abreModal"/>
                                                                </h:commandLink>
                                                            </h:form>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </h:column>
                                    </h:dataTable>
                                    <div class="uk-flex uk-flex-right">
                                        <h:form id="formulario-paginacion">
                                            <ul class="uk-pagination uk-background-primary uk-padding-small uk-margin-small-right uk-border-rounded">
                                                <li><a href="#"><span uk-pagination-previous=""></span></a></li>
                                                <li><a href="#">1</a></li>
                                                <li><a href="#">4</a></li>
                                                <li><a href="#">5</a></li>
                                                <li><a href="#">6</a></li>
                                                <li>
                                                    <h:commandLink>
                                                        <span uk-pagination-next=""></span>
                                                        <f:ajax listener="#{catalogoControlador.siguiente}" render="tabla-motivo-bloqueo"/>
                                                    </h:commandLink>
                                                </li>
                                            </ul>
                                        </h:form>
                                        <button class="uk-button uk-button-primary uk-margin-small uk-border-rounded" uk-toggle="target: #modal-motivos-bloqueo">
                                            <h:outputText value="#{mensaje['button.add']}" styleClass="uk-margin-small-right"/>
                                            <span uk-icon="icon: plus-circle; ratio: 1"></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="uk-width-1-2">
                            <div uk-grid="">
                                <div class="uk-width-auto"><span uk-icon="icon:uikit;ratio:2"></span></div>
                                <div class="uk-width-expand">
                                    <h3 class="uk-text-uppercase uk-text-truncate">Css grid</h3>

                                </div>
                            </div>
                        </div>
                        <div class="uk-width-1-1">
                            <div uk-grid="">
                                <div class="uk-width-auto"><h:graphicImage library="img" name="mapa.svg" pt:uk-svg="" width="40" height="40"/></div>
                                <div class="uk-width-expand">
                                    <h3 class="uk-text-uppercase uk-text-truncate">COLONIAS</h3>
                                    <h:panelGroup rendered="#{empty catalogoControlador.codigoPostales}">
                                        <table class="uk-table uk-table-middle uk-table-hover uk-table-striped">
                                            <thead class="limite">
                                              <tr class="uk-border-rounded">
                                                  <th class="uk-background-primary uk-dark">#{mensaje['catalog.zipcode']}</th>
                                                  <th class="uk-background-primary uk-dark">#{mensaje['catalog.name']}</th>
                                                  <th class="uk-background-primary uk-dark">#{mensaje['catalog.town']}</th>
                                                  <th class="uk-background-primary uk-dark">#{mensaje['catalog.state']}</th>
                                                  <th class="uk-background-primary uk-dark">#{mensaje['label.option']}</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td colspan="5" align="center" ><h:graphicImage library="img" name="vacio.svg" height="385px" width="385px"/></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="uk-flex uk-flex-right">
                                            <button class="uk-button uk-button-primary uk-margin-small uk-border-rounded" uk-toggle="target: #modal-motivos-bloqueo">
                                                <h:outputText value="#{mensaje['button.add']}" styleClass="uk-margin-small-right"/>
                                                <span uk-icon="icon: plus-circle; ratio: 1"></span>
                                            </button>
                                        </div>
                                    </h:panelGroup>
                                </div>
                            </div>
                        </div>
                        <div class="uk-width-1-2">
                            <div uk-grid="">
                                <div class="uk-width-auto"><span uk-icon="icon:heart;ratio:2"></span></div>
                                <div class="uk-width-expand">
                                    <h3 class="uk-text-uppercase uk-text-truncate">Title</h3>
                                    <p class="uk-text-justify">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id est ut risus vehicula imperdiet. Aenean id felis quis purus sollicitudin rutrum. Aliquam dignissim euismod justo, at egestas mi tempus eget. Quisque luctus vehicula ornare. Aenean vitae rutrum nisl. Sed commodo ultricies velit, ut placerat nulla maximus vulputate. Donec elit lectus, interdum tempor iaculis vel, vestibulum ac augue. Maecenas ipsum eros, auctor sit amet ultrices lobortis, mollis eget elit.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="modal-motivos-bloqueo" class="uk-flex-center" uk-modal="">
                <div class="uk-modal-dialog uk-margin-auto-vertical">
                    <h:form id="formulario-motivo-bloqueo" styleClass="uk-form-stacked">
                        <div class="uk-modal-header">
                            <h4 class="uk-modal-title uk-text-capitalize uk-text-center">#{mensaje['catalog.new']}</h4>
                        </div>
                        <div class="uk-modal-body">
                            <h:inputHidden value="#{catalogoControlador.motivoBloqueoModelo.id}"/>
                            <div class="uk-margin">
                                <h:outputLabel value="#{mensaje['catalog.description']}" styleClass="form-stacked-text uk-text-capitalize" for="input-descripcion"/>
                                <div class="uk-form-controls">
                                    <h:inputText id="input-descripcion"
                                                 styleClass="uk-input"
                                                 value="#{catalogoControlador.motivoBloqueoModelo.descripcion}"
                                                 pt:placeholder="#{mensaje['catalog.new.placeholder']}"
                                                 autocomplete="off"
                                                 label="#{mensaje['catalog.description']}">
                                        <f:validateRequired/>
                                        <f:validateLength minimum="3" maximum="20"/>
                                    </h:inputText>
                                </div>
                            </div>
                            <div id="label-error" class="uk-margin" style="display: none">
                                <div class="uk-alert-danger" uk-alert="">
                                    <h:message  for="input-descripcion" id="mensajes-error"/>
                                </div>
                            </div>
                        </div>
                        <div class="uk-modal-footer uk-flex uk-flex-right">
                            <button class="uk-button uk-button-default uk-border-rounded uk-modal-close uk-margin-small-right" type="button">#{mensaje['button.cancel']}</button>
                            <h:commandButton styleClass="uk-button uk-button-primary uk-border-rounded" value="#{mensaje['button.accept']}">
                                <f:ajax listener="#{catalogoControlador.inserta}" execute="@form" render="@form tabla-motivo-bloqueo" onevent="cierreModal"/>
                            </h:commandButton>
                        </div>
                    </h:form>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            var modalMotivoBloqueo;
            var dropDowns = document.querySelectorAll('.uk-dropdown-nav');
            document.addEventListener("DOMContentLoaded", function (evt) {
                modalMotivoBloqueo = document.querySelector('#modal-motivos-bloqueo');
            });
            function cierreModal(data) {
                if (data.status === 'success') {
                    var mensajeError = document.getElementById('formulario-motivo-bloqueo:mensajes-error');
                    var estiloError = document.getElementById('label-error');
                    if (mensajeError.textContent === '') {
                        UIkit.modal(modalMotivoBloqueo).hide();
                        estiloError.style.display = 'none';
                    } else {
                        estiloError.removeAttribute('style');
                    }
                }
            }
            function abreModal(data) {
                if (data.status === 'success') {
                    UIkit.modal(modalMotivoBloqueo).show();
                    document.getElementById('formulario-motivo-bloqueo:input-descripcion').click();
                }
            }
        </script>
    </ui:define>
</ui:composition>

</html>