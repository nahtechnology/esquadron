<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <ui:composition template="/template/template.xhtml">
        <ui:define name="contenido2">
           <div id="content" data-uk-height-viewport="expand: true">
			   <div class="uk-padding">
			    <div class="uk-overflow-auto">
					<h:dataTable id="tablaEscuela"
					value="#{escuelaControlador.escuelas}"
					var="escuela"
					styleClass="uk-table uk-table-hover uk-table-striped "
					headerClass="uk-background-primary uk-dark">
						<h:column >
							<f:facet name="header">CCT</f:facet>
							#{escuela.claveCentroTrabajo}
						</h:column>
						<h:column>
							<f:facet name="header">Nombre</f:facet>
							#{escuela.nombre}
						</h:column>
						<h:column>
							<f:facet name="header">Estatus</f:facet>
							<h:outputLabel rendered="#{escuela.estatus}">
								<span class="uk-icon-button" uk-icon="check"/>
							</h:outputLabel>
							<h:outputLabel rendered="#{not escuela.estatus}">
								<span class="uk-icon-button" uk-icon="close"/>
							</h:outputLabel>
						</h:column>
						<h:column>
							<f:facet name="header">Licencias</f:facet>
							#{escuela.licencias}
						</h:column>
						<h:column>
							<f:facet name="header">Dias Restantes</f:facet>
							#{escuela.diasRestantes}
						</h:column>
						<h:column>
							<f:facet name="header">Opciones</f:facet>
							<div class="uk-inline">
								<button class="uk-icon-button puntero" uk-icon="more-vertical" type="button"></button>
								<div uk-dropdown="mode: click">
									<ul class="uk-nav uk-dropdown-nav">
										<li><a href="#">Detalle</a></li>
										<li><a href="#">Editar</a></li>
										<li><a href="#">Eliminar</a></li>
									</ul>
								</div>
							</div>
						</h:column>
					</h:dataTable>
				  	</div>
				   <ul class="uk-pagination uk-flex-center uk-margin-medium-top" uk-margin="">
					   <li><a href="#"><span uk-pagination-previous=""></span></a></li>
					   <li><a href="#">1</a></li>
					   <li class="uk-disabled"><span>...</span></li>
					   <li><a href="#">5</a></li>
					   <li><a href="#">6</a></li>
					   <li class="uk-active"><span>7</span></li>
					   <li><a href="#">8</a></li>
					   <li><a href="#"><span uk-pagination-next=""></span></a></li>
				   </ul>
					<div class="uk-flex uk-flex-right uk-margin">
						<button class="uk-button uk-button-primary uk-border-rounded" uk-toggle="target: #modal-nuevo"><h:outputText value="#{mensaje['button.add']}"/></button>
					</div>
			   </div>
			   <div id="modal-nuevo"  uk-modal="">
				   <button class="uk-modal-close-default" type="button" uk-close=""></button>
				   <div class="uk-modal-header">
					   <h:form id="formulario-nuevo">
						   <h5 class="uk-modal-title uk-text-capitalize uk-text-center"><h:outputText value="#{mensaje['scchool.add.title']}"/></h5>
						   <div class="uk-modal-body">
							   <div class="uk-grid-small" uk-grid="">
								   <div class="uk-width-1-1@s uk-width-1-3@m uk-width-1-3@l">
									   <h:inputText styleClass="uk-input" pt:placeholder="Clave Centro trabajo"/>
								   </div>
								   <div class="uk-width-1-1@s uk-width-2-3@m uk-width-2-3@l">
									   <h:inputText styleClass="uk-input" pt:placeholder="Nombre"/>
								   </div>
								   <!-- Busqueda de la dirección -->
								   <h:inputText styleClass="uk-width-1-6@l uk-input" id="input-codigo-postal" pt:placeholder="Código Postal" value="#{direccionControlador.codigoPostal}">
								   </h:inputText>
								   <div class="uk-width-1-6@l">
									   <h:commandButton id="boton-direccion" value="Buscar" styleClass="uk-button uk-button-secondary uk-border-rounded">
										   <f:ajax event="click" execute="input-codigo-postal" listener="#{direccionControlador.busca()}" render="formulario-nuevo"/>
									   </h:commandButton>
								   </div>
								   <div class="uk-width-1-6@m">
								   	<h:selectOneMenu styleClass="uk-select">
										<f:selectItems value="#{direccionControlador.codigoPostalList}" var="#{codigoPostalLocal}" itemValue="#{codigoPostalLocal.CodigoPostal.id}" itemLabel="#{codigoPostalLocal.CodigoPostal.nombre}"/>
									</h:selectOneMenu>
							       </div>
								   <div class="uk-width-1-6@m">
									   <h:inputText styleClass="uk-input" value="#{direccionControlador.municipio}" readonly="true" pt:placeholder="Municipio"/>
								   </div>
								   <div class="uk-width-1-6@m">
									   <h:inputText styleClass="uk-input" value="#{direccionControlador.estado}" readonly="true" pt:placeholder="Estado"/>
								   </div>
								   <div class="uk-width-1-1@s">
									   <h:message for="formulario-nuevo:input-codigo-postal" errorStyle="color: red"/>
								   </div>
								   <!--	numero exterior -->
							   </div>
						   </div>
						   <div class="uk-modal-footer ">
							   <div class="uk-flex uk-flex-right">
								   <h:commandButton id="cancelar" styleClass="uk-button uk-button-default uk-border-rounded uk-margin-right" value="#{mensaje['button.cancel']}" />
								   <h:commandButton id="aceptar" styleClass="uk-button uk-button-primary uk-border-rounded" value="#{mensaje['button.accept']}"/>
							   </div>
						   </div>
					   </h:form>
				   </div>
			   </div>
		   	</div>
			<h:outputScript library="js" name="tabla.js"/>
        </ui:define>
    </ui:composition>

</html>
