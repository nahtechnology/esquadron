<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:pa="http://java.sun.com/jsf/composite/paginacion">

    <ui:composition template="/template/template.xhtml">
        <ui:define name="contenido2">
           	<h:outputStylesheet library="css" name="tablas.css"/>
			<div class="uk-overflow-auto">
				<h1 class="uk-text-center uk-heading-line"><span>Detalles de la Escuela</span></h1>
				<h:dataTable id="tabla-escuela"
							 styleClass="uk-table"
							 value="#{escuelaDashboardControlador.paginacionModeloDato}"
							 binding="#{escuelaDashboardControlador.htmlDataTable}"
							 var="escuela"
							 first="0"
							 rows="#{escuelaDashboardControlador.filasEnPagina}"
							 footerClass="uk-background-primary"
							 columnClasses=",,uk-text-center,uk-text-center,uk-text-center,uk-text-center">
					<h:column headerClass="uk-background-primary uk-width-small">
						<f:facet name="header"><h:outputText value="#{mensaje['school.cct']}" styleClass="titulo-blanco"/></f:facet>
						#{escuela.claveCentroTrabajo}
					</h:column>
					<h:column headerClass="uk-background-primary">
						<f:facet name="header"><h:outputText value="#{mensaje['school.name']}" styleClass="titulo-blanco"/></f:facet>
						#{escuela.nombre}
					</h:column>
					<h:column headerClass="uk-background-primary uk-width-small uk-text-center" >
						<f:facet name="header"><h:outputText value="#{mensaje['school.licenses']}" styleClass="titulo-blanco"/></f:facet>
						#{escuela.licencias}
					</h:column>
					<h:column headerClass="uk-background-primary uk-width-small uk-text-center">
						<f:facet name="header"><h:outputText value="#{mensaje['school.remaining.days']}" styleClass="titulo-blanco"/></f:facet>
						#{escuela.diasRestantes}
					</h:column>
					<h:column headerClass="uk-background-primary uk-width-small uk-text-center">
						<f:facet name="header"><h:outputText value="#{mensaje['school.status']}" styleClass="titulo-blanco"/></f:facet>
						<h:outputText pt:uk-icon="check" styleClass="uk-icon-button uk-margin-small-right" rendered="#{escuela.estatus}"/>
						<h:outputText pt:uk-icon="ban" styleClass="uk-icon-button uk-margin-small-right" rendered="#{not escuela.estatus}"/>
					</h:column>
					<h:column headerClass="uk-background-primary uk-width-small uk-text-center">
						<f:facet name="header"><h:outputText value="#{mensaje['school.option']}" styleClass="titulo-blanco"/></f:facet>
						<h:outputText pt:uk-icon="more-vertical" styleClass="uk-icon-button uk-margin-small-right"/>
					</h:column>
					<f:facet name="footer">
						<pa:pie-tabla htmlDataTable="#{escuelaDashboardControlador.htmlDataTable}"/>
					</f:facet>
				</h:dataTable>
			</div>
			<f:ajax render="tabla-escuela formulario-paginacion-colonia"
					listener="#{escuelaDashboardControlador.cargaDatos(escuelaDashboardControlador.htmlDataTable.first)}"
					onevent="limpiaInput">
				<h:form id="formulario-paginacion-colonia">
					<h:panelGroup styleClass="uk-margin-top" pt:uk-grid="">
						<div class="uk-panel uk-flex uk-flex-left uk-width-1-1@s uk-width-1-2@m">
							<pa:boton accionSiguiente="#{escuelaDashboardControlador.vistaSiguiente}"
									  accionAnterior="#{escuelaDashboardControlador.vistaAnterior}"
									  htmlDataTable="#{escuelaDashboardControlador.htmlDataTable}"
									  maximo="#{escuelaDashboardControlador.maximo}"
									  filasEnPagina="#{escuelaDashboardControlador.filasEnPagina}"
									  cargaDatos="#{escuelaDashboardControlador.cargaDatos(escuelaDashboardControlador.htmlDataTable.first)}"/>
						</div>
						<div class="uk-panel uk-flex uk-flex-right@m uk-flex-center@s uk-width-1-1@s uk-width-1-2@m">
							<button class="uk-button uk-button-primary uk-border-rounded" uk-toggle="target: #modal-escuela">
								<span class="uk-margin-small-right"><h:outputText value="#{mensaje['button.add']}"/></span>
								<h:outputText pt:uk-icon="icon: plus-circle"/>
							</button>
						</div>
					</h:panelGroup>
				</h:form>
			</f:ajax>
			<script type="text/javascript">
				document.addEventListener("DOMContentLoaded", function (evt) {
					limpiaInput();
				});

				function limpiaInput() {
					document.querySelectorAll('.uk-select').forEach(function (value) { value.removeAttribute('size') });
				}
			</script>
        </ui:define>
    </ui:composition>

</html>
