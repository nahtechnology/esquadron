<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <ui:composition template="/template/template.xhtml">
        <ui:define name="contenido2">
           <div id="content" data-uk-height-viewport="expand: true">
			   <div class="uk-padding">
			    <div class="uk-overflow-auto">
					<h:dataTable id="tablaEscuela"
					value="#{escuelaControlador.escuelas}"
					var="escuela"
					styleClass="uk-table uk-table-hover uk-table-striped "
					headerClass="uk-background-primary uk-dark "
					footerClass="uk-background-primary">
						<h:column >
							<f:facet   name="header">CCT</f:facet>
							#{escuela.claveCentroTrabajo}
							<f:facet name="footer">
							
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header"><h:commandLink onclick="ordenarTabla(0)" styleClass="links"> <span>Nombre</span></h:commandLink> </f:facet>
							#{escuela.nombre}
						</h:column>
						<h:column>
							<f:facet name="header">Estatus</f:facet>
							<h:outputLabel rendered="#{escuela.estatus}">
								<span class="uk-icon-button" uk-icon="check"/>
							</h:outputLabel>
							<h:outputLabel rendered="#{not escuela.estatus}">
								<span class="uk-icon-button" uk-icon="close"/>
							</h:outputLabel>
						</h:column>
						<h:column>
							<f:facet name="header">Licencias</f:facet>
							#{escuela.licencias}
						</h:column>
						<h:column>
							<f:facet name="header">Dias Restantes</f:facet>
							#{escuela.diasRestantes}
						</h:column>
						<h:column>
							<f:facet name="header">Opciones</f:facet>
						 <span class="uk-icon-button puntero" uk-icon="more-vertical"/>
							
						</h:column>
					</h:dataTable>
				  </div>
				  <div class="uk-background-primary espacio">
				       <ul class="uk-pagination">
						    <li><a href="#"><span class="uk-margin-small-right" uk-pagination-previous=""></span> Previous</a></li>
						    <li class="uk-margin-auto-left"><a href="#">Next <span class="uk-margin-small-left" uk-pagination-next=""></span></a></li>
						</ul>
				  
				  </div>
				  
					<div class="uk-flex uk-flex-right uk-margin">
						<button class="uk-button uk-button-primary uk-border-rounded" uk-toggle="target: #modal-nuevo"><h:outputText value="#{mensaje['button.add']}"/></button>
					</div>
			   </div>
			   <div id="modal-nuevo"  uk-modal="">
				   <button class="uk-modal-close-default" type="button" uk-close=""></button>
				   <div class="uk-modal-header">
					   <h:form id="formulario-nuevo">
						   <h5 class="uk-modal-title uk-text-capitalize uk-text-center"><h:outputText value="#{mensaje['scchool.add.title']}"/></h5>
						   <div class="uk-modal-body">
							   <div class="uk-grid-small" uk-grid="">
								   <div class="uk-width-1-1@s uk-width-1-3@m">
									   <h:inputText styleClass="uk-input" pt:placeholder="Clave Centro trabajo"/>
								   </div>
								   <div class="uk-width-1-1@s uk-width-2-3@m">
									   <h:inputText styleClass="uk-input" pt:placeholder="Nombre"/>
								   </div>
								   <!-- Busqueda de la dirección -->
								   <div class="uk-width-1-1@s uk-width-1-3@m">
    								   <h:inputText styleClass="uk-input" id="input-codigo-postal" pt:placeholder="Código Postal" value="#{direccionControlador.codigoPostal}" required="true">
    								   		<f:validateLength minimum="4" maximum="5"/>
    								   </h:inputText>
								   </div>
								   <div class="uk-width-1-1@s uk-width-1-3@m">
									   <h:commandButton id="boton-direccion" value="Buscar" styleClass="uk-button uk-button-secondary uk-border-rounded">
										   <f:ajax event="click" execute="formulario-nuevo:input-codigo-postal" listener="#{direccionControlador.busca()}" render="formulario-nuevo"/>
									   </h:commandButton>
								   </div>
								   <div class="uk-width-1-1@s uk-width-1-3@m">
								   	<h:selectOneMenu styleClass="uk-select">
										<f:selectItems value="#{direccionControlador.codigoPostalList}" var="#{codigoPostalLocal}" itemValue="#{codigoPostalLocal.CodigoPostal.id}" itemLabel="#{codigoPostalLocal.CodigoPostal.nombre}"/>
									</h:selectOneMenu>
							       </div>
								   <div class="uk-width-1-1@s uk-width-1-2@m">
									   <h:inputText styleClass="uk-input" value="#{direccionControlador.municipio}" readonly="true" pt:placeholder="Municipio"/>
								   </div>
								   <div class="uk-width-1-1@s uk-width-1-2@m">
									   <h:inputText styleClass="uk-input" value="#{direccionControlador.estado}" readonly="true" pt:placeholder="Estado"/>
								   </div>
								   <div class="uk-width-1-1@s uk-width-2-3@m">
									   <h:inputText styleClass="uk-input" pt:placeholder="Calle"/>
								   </div>
								   <!--	numero exterior -->
								   <div class="uk-width-1-1@s uk-width-1-6@m">
									   <h:inputText styleClass="uk-input" pt:placeholder="Número Ext."/>
								   </div>
								   <div class="uk-width-1-1@s uk-width-1-6@m">
									   <h:inputText styleClass="uk-input" pt:placeholder="Número Int."/>
								   </div>
								   <div class="uk-width-1-1@s">
								   	<h:messages styleClass="uk-list uk-alert-danger uk-alert"/>
								   </div>
							   </div>
						   </div>
						   <div class="uk-modal-footer ">
							   <div class="uk-flex uk-flex-right">
								   <h:commandButton id="cancelar" styleClass="uk-button uk-button-default uk-border-rounded uk-margin-right" value="#{mensaje['button.cancel']}" />
								   <h:commandButton id="aceptar" styleClass="uk-button uk-button-primary uk-border-rounded" value="#{mensaje['button.accept']}"/>
							   </div>
						   </div>
					   </h:form>
				   </div>
			   </div>
		   	</div>
			<h:outputScript library="js" name="tabla.js"/>
        </ui:define>
    </ui:composition>

</html>
