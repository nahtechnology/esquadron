<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:pa="http://java.sun.com/jsf/composite/paginacion">

    <ui:composition template="/template/template.xhtml">
        <ui:define name="contenido2">
           	<h:outputStylesheet library="css" name="tablas.css"/>
			<div class="uk-overflow-auto">
				<h1 class="uk-text-center uk-heading-line"><span>Detalles de la Escuela</span></h1>
				<h:form id="formulario-escuela-tabla">
					<h:dataTable id="tabla-escuela"
								 styleClass="uk-table limite-tabla-escuela"
								 value="#{escuelaDashboardControlador.paginacionModeloDato}"
								 binding="#{escuelaDashboardControlador.htmlDataTable}"
								 var="escuela"
								 first="0"
								 rows="#{escuelaDashboardControlador.filasEnPagina}"
								 footerClass="uk-background-primary"
								 columnClasses=",,uk-text-center,uk-text-center,uk-text-center,uk-text-center">
						<h:column headerClass="uk-background-primary uk-width-small uk-text-middle">
							<f:facet name="header">
								<div class="uk-flex uk-flex-between uk-flex-middle">
									<h:outputText value="#{mensaje['school.cct']}" styleClass="titulo-blanco"/>
									<h:outputLink value="#modal-busqueda-cct" styleClass="titulo-blanco uk-navbar-toggle" pt:uk-search-icon="" pt:uk-toggle=""/>
								</div>
							</f:facet>
							#{escuela.claveCentroTrabajo}
						</h:column>
						<h:column headerClass="uk-background-primary">
							<f:facet name="header">
								<div class="uk-flex uk-flex-between uk-flex-middle">
									<h:outputText value="#{mensaje['school.name']}" styleClass="titulo-blanco"/>
									<h:outputLink value="#modal-busqueda-nombre" styleClass="titulo-blanco uk-navbar-toggle" pt:uk-search-icon="" pt:uk-toggle=""/>
								</div>
							</f:facet>
							#{escuela.nombre}
						</h:column>
						<h:column headerClass="uk-background-primary uk-width-small uk-text-center uk-text-middle">
							<f:facet name="header"><h:outputText value="#{mensaje['school.licenses']}" styleClass="titulo-blanco"/></f:facet>
							#{escuela.licencias}
						</h:column>
						<h:column headerClass="uk-background-primary uk-width-small uk-text-center uk-text-middle">
							<f:facet name="header"><h:outputText value="#{mensaje['school.remaining.days']}" styleClass="titulo-blanco"/></f:facet>
							#{escuela.diasRestantes}
						</h:column>
						<h:column headerClass="uk-background-primary uk-width-small uk-text-center uk-text-middle">
							<f:facet name="header"><h:outputText value="#{mensaje['school.status']}" styleClass="titulo-blanco"/></f:facet>
							<h:outputText pt:uk-icon="check" styleClass="uk-icon-button uk-margin-small-right" rendered="#{escuela.estatus}"/>
							<h:outputText pt:uk-icon="ban" styleClass="uk-icon-button uk-margin-small-right" rendered="#{not escuela.estatus}"/>
						</h:column>
						<h:column headerClass="uk-background-primary uk-width-small uk-text-center uk-text-middle">
							<f:facet name="header"><h:outputText value="#{mensaje['school.option']}" styleClass="titulo-blanco"/></f:facet>
							<button class="uk-icon-button puntero" uk-icon="more-vertical" type="button"/>
							<div uk-dropdown="animation: uk-animation-slide-top-small; mode: click">
								<ul class="uk-nav uk-dropdown-nav uk-text-left">
									<li>
										<h:link styleClass="uk-link-reset" outcome="detallesEscuela">
											<h:outputText pt:uk-icon="icon: file-text" styleClass="uk-margin-small-right"/>
											<h:outputText value="#{mensaje['button.detail']}"/>
											<f:param value="#{escuela.claveCentroTrabajo}" name="claveCentroTrabajo"/>
										</h:link>
									</li>
									<li>
										<h:commandLink>
											<h:outputText pt:uk-icon="icon: file-edit" styleClass="uk-margin-small-right uk-icon"/>
											<h:outputText value="#{mensaje['button.edit']}"/>
											<f:ajax listener="#{escuelaDashboardControlador.busca(escuela)}" render="formulario-escuela" onevent="function f(data) { abrebModal(data, 'modal-escuela') }"/>
										</h:commandLink>
									</li>
									<li>
										<h:commandLink>
											<h:outputText pt:uk-icon="icon: ban" styleClass="uk-margin-small-right" rendered="#{escuela.estatus}"/>
											<h:outputText pt:uk-icon="icon: check" styleClass="uk-margin-small-right" rendered="#{not escuela.estatus}"/>
											<h:outputText value="bloquear" styleClass="uk-text-capitalize uk-text-bold uk-text-right" rendered="#{escuela.estatus}"/>
											<h:outputText value="desbloquer" styleClass="uk-text-capitalize uk-text-bold uk-text-right" rendered="#{not escuela.estatus}"/>
											<f:setPropertyActionListener value="#{escuela}" target="#{escuelaDashboardControlador.escuelaBaseDtoModelo}"/>
											<f:ajax render="formulario-motivo-bloqueo" onevent="function f(data) { abrebModal(data, 'modal-motivo-bloqueo') }"/>
										</h:commandLink>
									</li>
									<li>
										<h:commandLink>
											<h:outputText pt:uk-icon="icon: trash" styleClass="uk-margin-small-right"/>
											<h:outputText value="#{mensaje['button.remove']}"/>
											<f:ajax render="formulario-eliminar" onevent="function f(data) { abrebModal(data, 'modal-eliminar') }"/>
											<f:setPropertyActionListener value="#{escuela}" target="#{escuelaDashboardControlador.escuelaBaseDtoModelo}"/>
										</h:commandLink>
									</li>
								</ul>
							</div>
						</h:column>
						<f:facet name="footer">
							<pa:pie-tabla htmlDataTable="#{escuelaDashboardControlador.htmlDataTable}"/>
						</f:facet>
					</h:dataTable>
				</h:form>
			</div>
			<f:ajax render="formulario-escuela-tabla:tabla-escuela formulario-paginacion-colonia"
					listener="#{escuelaDashboardControlador.cargaDatos(escuelaDashboardControlador.htmlDataTable.first)}"
					onevent="limpiaInput">
				<h:form id="formulario-paginacion-colonia">
					<h:panelGroup styleClass="uk-margin-top" pt:uk-grid="">
						<div class="uk-panel uk-flex uk-flex-left uk-width-1-1@s uk-width-1-2@m">
							<pa:boton accionSiguiente="#{escuelaDashboardControlador.vistaSiguiente}"
									  accionAnterior="#{escuelaDashboardControlador.vistaAnterior}"
									  htmlDataTable="#{escuelaDashboardControlador.htmlDataTable}"
									  maximo="#{escuelaDashboardControlador.maximo}"
									  filasEnPagina="#{escuelaDashboardControlador.filasEnPagina}"/>
						</div>
						<div class="uk-panel uk-flex uk-flex-right@m uk-flex-center@s uk-width-1-1@s uk-width-1-2@m">
							<h:commandButton disabled="#{empty escuelaDashboardControlador.escuelaDtoSubLista}"
											 styleClass="uk-button uk-button-primary uk-margin-small-right"
											 value="#{mensaje['button.back']}">
								<f:actionListener binding="#{escuelaDashboardControlador.limpiarFiltro()}"/>
							</h:commandButton>
							<button class="uk-button uk-button-primary" uk-toggle="target: #modal-escuela">
								<span class="uk-margin-small-right"><h:outputText value="#{boton['accept']}"/></span>
								<h:outputText pt:uk-icon="icon: plus-circle"/>
							</button>
						</div>
					</h:panelGroup>
				</h:form>
			</f:ajax>
			<h:panelGroup id="modal-busqueda-nombre" styleClass="uk-flex-top" pt:uk-modal="">
				<div class="uk-modal-dialog uk-margin-auto-vertical">
					<div class="uk-modal-header uk-background-secondary">
						<p class="uk-h4 uk-text-center uk-text-bold"><span class="letra-titulo">Busca por nombre</span></p>
					</div>
					<h:form id="formulario-busqueda-nombre" class="uk-form-stacked">
						<div class="uk-modal-body">
							<div class="uk-margin">
								<h:outputLabel for="input-busqueda-nombre" styleClass="uk-form-label" value="Palabra Clave"/>
								<div class="uk-form-controls">
									<h:inputText styleClass="uk-input"
												 id="input-busqueda-nombre"
												 pt:placeholder="Escriba texto..."
												 value="#{escuelaDashboardControlador.escuelaBaseDtoModelo.nombre}"
												 label="nombre">
										<f:validateRequired/>
										<f:validateLength minimum="2"/>
									</h:inputText>
								</div>
							</div>
							<ui:fragment rendered="#{facesContext.validationFailed}">
								<h:panelGroup layout="block" styleClass="uk-alert-danger"  pt:uk-alert="">
									<h:message id="mensaje-error-busqueda-nombre" for="input-busqueda-nombre"/>
								</h:panelGroup>
							</ui:fragment>
						</div>
						<div class="uk-modal-footer uk-text-right">
							<button class="uk-button uk-button-default uk-modal-close uk-margin-small-right" type="button">Cancelar</button>
							<h:commandButton styleClass="uk-button uk-button-secondary" value="#{mensaje['button.search']}">
								<f:ajax execute="@form"
										listener="#{escuelaDashboardControlador.filtrar('NOMBRE')}"
										render="formulario-escuela-tabla:tabla-escuela formulario-paginacion-colonia"
										onevent="function f(data) { cierraModal(data, 'modal-busqueda-nombre') }"/>
							</h:commandButton>
						</div>
					</h:form>
				</div>
			</h:panelGroup>
			<h:panelGroup id="modal-busqueda-cct" styleClass="uk-flex-top" pt:uk-modal="">
				<div class="uk-modal-dialog uk-margin-auto-vertical">
					<div class="uk-modal-header uk-background-secondary">
						<p class="uk-h4 uk-text-center uk-text-bold"><span class="letra-titulo">Busca por CCT</span></p>
					</div>
					<h:form id="formulario-busqueda-cct" class="uk-form-stacked">
						<div class="uk-modal-body">
							<div class="uk-margin">
								<h:outputLabel for="input-busqueda-cct" styleClass="uk-form-label" value="Palabra clave"/>
								<div class="uk-form-controls">
									<h:inputText styleClass="uk-input"
												 id="input-busqueda-cct"
												 pt:placeholder="Escriba texto..."
												 value="#{escuelaDashboardControlador.escuelaBaseDtoModelo.claveCentroTrabajo}"
												 label="clave centro trabajo">
										<f:validateRequired/>
										<f:validateLength minimum="2"/>
									</h:inputText>
								</div>
							</div>
							<ui:fragment rendered="#{facesContext.validationFailed}">
								<h:panelGroup layout="block" styleClass="uk-alert-danger"  pt:uk-alert="">
									<h:message id="mensaje-error-busqueda-cct" for="input-busqueda-cct"/>
								</h:panelGroup>
							</ui:fragment>
						</div>
						<div class="uk-modal-footer uk-flex uk-flex-right">
							<button class="uk-button uk-button-default uk-modal-close uk-margin-small-right" type="button">Cancelar</button>
							<h:commandButton styleClass="uk-button uk-button-secondary" value="#{mensaje['button.search']}">
								<f:ajax execute="@form"
										listener="#{escuelaDashboardControlador.filtrar('CCT')}"
										render="formulario-escuela-tabla:tabla-escuela formulario-paginacion-colonia"
										onevent="function f(data) { cierraModal(data, 'modal-busqueda-cct') }"/>
							</h:commandButton>
						</div>
					</h:form>
				</div>
			</h:panelGroup>
			<h:panelGroup layout="block" id="modal-eliminar" styleClass="uk-modal-container" pt:uk-modal="">
				<div class="uk-modal-dialog uk-margin-auto-vertical">
					<h:form id="formulario-eliminar">
						<div class="uk-modal-header fondo-peligro"  >
							<p class="uk-h4 uk-text-center uk-text-bold" ><span class="letra-titulo">Eliminar escuela #{escuelaDashboardControlador.escuelaBaseDtoModelo.claveCentroTrabajo}</span></p>
						</div>
						<div class="uk-modal-body">
							<p>Esta seguro que desea borrar la escuela: <span class="uk-text-bold">#{escuelaDashboardControlador.escuelaBaseDtoModelo.nombre}</span> </p>
						</div>
						<div class="uk-modal-footer uk-flex uk-flex-right">
							<button class="uk-button uk-button-default uk-modal-close uk-margin-small-right" type="button">Cancelar</button>
							<h:commandButton value="#{mensaje['button.remove']}" styleClass="uk-button uk-button-danger">
								<f:ajax listener="#{escuelaDashboardControlador.eliminia}" render="formulario-escuela-tabla:tabla-escuela" onevent="function f(data) { cierraModal(data, 'modal-eliminar') }"/>
							</h:commandButton>
						</div>
					</h:form>
				</div>
			</h:panelGroup>
			<h:panelGroup layout="block" id="modal-motivo-bloqueo" pt:uk-modal="">
				<div class="uk-modal-dialog uk-margin-auto-vertical">
					<h:form id="formulario-motivo-bloqueo" styleClass="uk-form-stacked">
						<div class="uk-modal-header fondo-peligro">
							<p class="uk-h4 uk-text-center uk-text-bold"><span class="letra-titulo">Bloquear escuela #{escuelaDashboardControlador.escuelaBaseDtoModelo.claveCentroTrabajo}</span></p>
						</div>
						<div class="uk-modal-body">
							<div class="uk-margin">
								<h:outputLabel styleClass="uk-form-label" for="select-motivo-bloqueo" value="Motivo de Bloqueo"/>
								<div class="uk-form-controls">
									<h:selectOneMenu id="select-motivo-bloqueo"
													 styleClass="uk-select"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.motivoBlqueoDto.id}"
													 label="Motivo de Bloqueo">
										<f:selectItem itemValue="#{null}" itemLabel="Seleccione..." noSelectionOption="true"/>
										<f:selectItems value="#{escuelaDashboardControlador.motivoBloqueoDtoLista}"
													   var="motivoBloqueo"
													   itemValue="#{motivoBloqueo.id}"
													   itemLabel="#{motivoBloqueo.descripcion}"/>
										<f:validateRequired/>
									</h:selectOneMenu>
								</div>
							</div>
							<ui:fragment rendered="#{facesContext.validationFailed}">
								<h:panelGroup layout="block" styleClass="uk-alert-danger"  pt:uk-alert="">
									<h:message for="select-motivo-bloqueo"/>
								</h:panelGroup>
							</ui:fragment>
						</div>
						<div class="uk-modal-footer uk-flex uk-flex-right">
							<button class="uk-button uk-button-default uk-modal-close uk-margin-small-right" type="button">
								<h:outputText value="#{mensaje['button.cancel']}"/>
							</button>
							<h:commandButton value="#{mensaje['button.block']}" styleClass="uk-button uk-button-danger">
								<f:ajax listener="#{escuelaDashboardControlador.bloquea}"
										execute="@form"
										render="formulario-escuela-tabla:tabla-escuela @form"
										onevent="function f(data) { cierraModal(data, 'modal-motivo-bloqueo') }"/>
							</h:commandButton>
						</div>
					</h:form>
				</div>
			</h:panelGroup>
			<h:panelGroup layout="block" id="modal-escuela" class="uk-modal-container" pt:uk-modal="">
				<div class="uk-modal-dialog uk-margin-auto-vertical">
					<h:form id="formulario-escuela">
						<div class="uk-modal-header uk-background-secondary">
							<p class="uk-h4 uk-text-center uk-text-bold uk-text-capitalize">
								<h:outputText value="#{mensaje['school.add.title']}" styleClass="letra-titulo" rendered="#{empty escuelaDashboardControlador.escuelaDetalleDtoModelo.claveCentroTrabajo}"/>
								<h:outputText value="Moficar escuela" styleClass="letra-titulo" rendered="#{not empty escuelaDashboardControlador.escuelaDetalleDtoModelo.claveCentroTrabajo}"/>
							</p>
						</div>
						<div class="uk-modal-body">
							<div uk-grid="">
								<div class="uk-width-1-1@s uk-width-1-6@m">
									<h:outputLabel styleClass="uk-form-label uk-text-uppercase" for="input-escuela-cct" value="#{mensaje['school.cct']}"/>
									<div class="uk-form-controls">
										<h:inputText styleClass="uk-input"
													 id="input-escuela-cct"
													 pt:placeholder="#{mensaje['school.cct']}"
													 label="#{mensaje['school.cct']}"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.claveCentroTrabajo}">
											<f:validateRequired/>
											<f:validateLength minimum="9" maximum="10"/>
										</h:inputText>
									</div>
								</div>
								<div class="uk-width-1-1@s uk-width-1-2@m">
									<h:outputLabel styleClass="uk-form-label uk-text-capitalize" for="input-escuela-nombre" value="#{mensaje['school.name']}"/>
									<div class="uk-form-controls">
										<h:inputText styleClass="uk-input"
													 id="input-escuela-nombre"
													 pt:placeholder="#{mensaje['school.name']}"
													 label="#{mensaje['school.name']}"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.nombre}">
											<f:validateRequired/>
											<f:validateLength minimum="11" maximum="70"/>
										</h:inputText>
									</div>
								</div>
								<div class="uk-width-1-1@s uk-width-1-6@m">
									<h:outputLabel styleClass="uk-form-label uk-text-capitalize" for="input-escuela-codigo-postal" value="#{mensaje['school.postalcode']}"/>
									<div class="uk-form-controls">
										<h:inputText styleClass="uk-input"
													 id="input-escuela-codigo-postal"
													 pt:placeholder="#{mensaje['school.postalcode']}"
													 label="#{mensaje['school.postalcode']}"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.coloniaDto.codigoPostal}">
											<f:validateRequired/>
											<f:validateLength minimum="4" maximum="5"/>
										</h:inputText>
									</div>
								</div>
								<div class="uk-inline uk-width-1-1@s uk-width-1-6@m ">
									<h:commandButton styleClass="uk-button uk-button-secondary uk-position-bottom-center"
													 value="#{mensaje['button.search']}">
										<f:ajax execute="input-escuela-codigo-postal"
												render="seleccion-colonia input-escuela-municipio input-escuela-estado"
												listener="#{escuelaDashboardControlador.buscaColonia}" onevent="limpiaInput"/>
									</h:commandButton>
								</div>
								<div class="uk-inline uk-width-1-1@s uk-width-1-2@m">
									<div class="uk-margin">
										<h:outputLabel styleClass="uk-form-label uk-text-capitalize" value="#{mensaje['school.colony']}" for="seleccion-colonia"/>
										<div class="uk-form-controls">
											<h:selectOneMenu styleClass="uk-select"
															 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.coloniaDto.id}"
															 id="seleccion-colonia"
															 label="#{mensaje['school.colony']}">
												<f:selectItem itemLabel="Selecciones ..." itemValue="#{null}" noSelectionOption="true"/>
												<f:selectItems value="#{escuelaDashboardControlador.coloniaDtoLista}"
																var="colonia"
																itemValue="#{colonia.id}"
																itemLabel="#{colonia.nombre}"/>
												<f:validateRequired/>
											</h:selectOneMenu>
										</div>
									</div>
								</div>
								<div class="uk-width-1-1@s uk-width-1-2@m">
									<h:outputLabel styleClass="uk-form-label uk-text-capitalize" value="#{mensaje['school.street']}" for="input-escuela-calle"/>
									<div class="uk-form-controls">
										<h:inputText styleClass="uk-input"
													 id="input-escuela-calle"
													 pt:placeholder="#{mensaje['school.street']}"
													 label="#{mensaje['school.street']}"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.calle}">
											<f:validateRequired/>
											<f:validateLength minimum="11" maximum="60"/>
										</h:inputText>
									</div>
								</div>
								<div class="uk-width-1-1@s uk-width-1-6@m">
									<h:outputLabel styleClass="uk-form-label uk-text-capitalize" value="#{mensaje['school.street.num.ext']}" for="input-escuela-numero-exterior"/>
									<div class="uk-form-controls">
										<h:inputText styleClass="uk-input"
													 id="input-escuela-numero-exterior"
													 pt:placeholder="#{mensaje['school.street.num.ext']}"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.numeroExterior}"
													 label="#{mensaje['school.street.num.ext']}">
											<f:validateRequired/>
											<f:validateLength minimum="1" maximum="15"/>
										</h:inputText>
									</div>
								</div>
								<div class="uk-width-1-1@s uk-width-1-6@m">
									<h:outputLabel styleClass="uk-form-label uk-text-capitalize" value="#{mensaje['school.street.num.int']}" for="input-escuela-numero-interior"/>
									<div class="uk-form-controls">
										<h:inputText styleClass="uk-input"
													 id="input-escuela-numero-interior"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.numeroInterior}"
													 pt:placeholder="#{mensaje['school.street.num.int']}"
													 label="#{mensaje['school.street.num.int']}">
											<f:validateLength minimum="1" maximum="15"/>
										</h:inputText>
									</div>
								</div>
								<div class="uk-width-1-1@s uk-width-2-5@m">
									<h:outputLabel styleClass="uk-form-label uk-text-capitalize" value="#{mensaje['school.city']}" for="input-escuela-municipio"/>
									<div class="uk-form-controls">
										<h:inputText styleClass="uk-input"
													 id="input-escuela-municipio"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.municipioDto.nombre}"
													 pt:placeholder="#{mensaje['school.city']}"
													 label="#{mensaje['school.city']}"
													 disabled="true"/>
									</div>
								</div>
								<div class="uk-width-1-1@s uk-width-1-4@m">
									<h:outputLabel styleClass="uk-form-label uk-text-capitalize" value="#{mensaje['school.town']}" for="input-escuela-estado"/>
									<div class="uk-form-controls">
										<h:inputText styleClass="uk-input"
													 id="input-escuela-estado"
													 value="#{escuelaDashboardControlador.escuelaDetalleDtoModelo.estadoDto.nombre}"
													 pt:placeholder="#{mensaje['school.town']}"
													 label="#{mensaje['school.town']}"
													 disabled="true"/>
									</div>
								</div>
								<ui:fragment rendered="#{facesContext.validationFailed}">
									<div class="uk-width-1-1@s">
										<div class="uk-alert-danger" uk-alert="">
											<h:messages styleClass="uk-list"/>
										</div>
									</div>
								</ui:fragment>
							</div>
						</div>
						<div class="uk-modal-footer uk-flex uk-flex-right">
							<h:commandButton styleClass="uk-button uk-button-default uk-modal-close uk-margin-small-right"
											 value="#{mensaje['button.cancel']}">
								<f:ajax render="@form" onevent="limpiaInput"/>
							</h:commandButton>
							<h:commandButton styleClass="uk-button uk-button-secondary"
											 value="#{mensaje['button.add']}"
											 rendered="#{empty escuelaDashboardControlador.escuelaDetalleDtoModelo.claveCentroTrabajo}">
								<f:ajax execute="@form" render="@form formulario-escuela-tabla:tabla-escuela" listener="#{escuelaDashboardControlador.agrega}" onevent="function f(data) { cierraModal(data, 'modal-escuela') }"/>
							</h:commandButton>
							<h:commandButton styleClass="uk-button uk-button-secondary"
											 value="Actualizar"
											 rendered="#{not empty escuelaDashboardControlador.escuelaDetalleDtoModelo.claveCentroTrabajo}">
								<f:ajax execute="@form" render="@form formulario-escuela-tabla:tabla-escuela" listener="#{escuelaDashboardControlador.actualiza}" onevent="function f(data) { cierraModal(data, 'modal-escuela') }"/>
							</h:commandButton>
						</div>
					</h:form>
				</div>
			</h:panelGroup>
			<script type="text/javascript">
				var modalBusquedaNombre = document.querySelector('#modal-busqueda-nombre');
				var modalBusquedaCct = document.querySelector('#modal-busqueda-cct');
				var modalEscuela = document.querySelector('#modal-escuela');
				var modalEliminar = document.querySelector('#modal-eliminar');
				var modalMotivoBloqueo = document.querySelector('#modal-motivo-bloqueo');
				document.addEventListener("DOMContentLoaded", function (evt) {
					limpiaInput();
					UIkit.util.on('#modal-busqueda-nombre', 'hidden', function () {
						modalBusquedaNombre.querySelectorAll('.uk-input').forEach(function (entrada) { entrada.value = '' });
					});
					UIkit.util.on('#modal-escuela', 'hidden', function () {
						modalEscuela.querySelectorAll('.uk-input').forEach(function (entrada) { entrada.value = '' });
					});
					UIkit.util.on('#modal-busqueda-cct', 'hidden', function () {
						modalBusquedaCct.querySelectorAll('.uk-input').forEach(function (entrada) { entrada.value = '' });
					});
				});

				function cierraModal(data, modal) {
					if (data.status === 'success') {
						switch (modal) {
							case 'modal-escuela':
								if (modalEscuela.querySelector('.uk-alert-danger') === null) {
									UIkit.modal(modalEscuela).hide();
								}
								break;
							case 'modal-busqueda-nombre':
								UIkit.modal(modalBusquedaNombre).hide();
								break;
							case 'modal-busqueda-cct':
								UIkit.modal(modalBusquedaCct).hide();
								break;
							case 'modal-eliminar':
								UIkit.modal(modalEliminar).hide();
								break;
							case 'modal-motivo-bloqueo':
								if (modalMotivoBloqueo.querySelector('.uk-alert-danger') === null) {
									UIkit.modal(modalMotivoBloqueo).hide();
								}
								break;
							default:
								console.error('Modal no programado:' + modal);
						}
					}
					limpiaInput();
				}

				function abrebModal(data, modal) {
					if (data.status === 'success') {
						switch (modal) {
							case 'modal-escuela':
								UIkit.modal(modalEscuela).show();
								modalEscuela.querySelector('.uk-input').click();
								break;
							case 'modal-eliminar':
								UIkit.modal(modalEliminar).show();
								modalEscuela.querySelector('.uk-input').click();
								break;
							case 'modal-busqueda-nombre':
								UIkit.modal(modalBusquedaNombre).show();
								modalBusquedaNombre.querySelector('.uk-input').click();
								break;
							case 'modal-motivo-bloqueo':
								UIkit.modal(modalMotivoBloqueo).show();
								break;
							default:
								console.error('Modal no programado:' + modal);
						}
					}
					limpiaInput()
				}

				function limpiaInput() {
					document.querySelectorAll('.uk-select').forEach(function (value) { value.removeAttribute('size') });
				}
			</script>
        </ui:define>
    </ui:composition>

</html>
